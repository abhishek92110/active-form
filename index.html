<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
    
    <h3>Hello active campaign form</h3>

    <!-- <div class="_form_1"></div><script src="https://at604281.activehosted.com/f/embed.php?id=1" charset="utf-8"></script> -->


    <form>
        <div class="form-group">
          <label for="exampleInputEmail1">Email address</label>
          <input type="email" class="form-control" id="email" aria-describedby="emailHelp" placeholder="Enter email">
          <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
        </div>
        <div class="form-group">
          <label for="exampleInputPassword1">Password</label>
          <input type="password" class="form-control" id="password" placeholder="Password">
        </div>
        <div class="form-group">
          <label for="exampleInputPassword1">Address</label>
          <input type="password" class="form-control" id="address" placeholder="Password">
        </div>
      
        <button type="submit" class="btn btn-primary" onclick="sendData(event)">Submit</button>
      </form>


      <script>

//        function sendData(event){


//       event.preventDefault()
//         let email = document.getElementById('email').value
//         let password = document.getElementById('password').value

//         console.log("email and password=",email, password)

//         fetch('https://at604281.activehosted.com/api/3/contacts', {
//     method: 'POST',
//     headers: {
//         'Content-Type': 'application/json',
//         'Api-Token': 'a7f59641dcad4081b7478e2a679172586451620edf1ddf5bbe840810f6f63f2d8ee35309'
//     },
//     body: JSON.stringify({
//         contact: {
//             email: email,
//             firstName: password
//             // Include any other fields as necessary
//         }
//     })
// })
// .then(response => response.json())
// .then(data => {
//     if(data.contact) {
//         console.log('Contact ID:', data.contact.id);
//         // formMessage.textContent += ' Data also sent to ActiveCampaign.';
//     } else {
//         // formMessage.textContent += ' Error sending data to ActiveCampaign.';
//         console.error('ActiveCampaign response error:', data);
//     }
// })
// .catch(error => {
//     // formMessage.textContent += ' Error: ' + error.message;
//     console.error('Fetch error:', error);
// });



//        }


// function sendData(event) {
//     event.preventDefault();

//     let email = document.getElementById('email').value;
//     let firstName = document.getElementById('password').value;

//     fetch('http://localhost:3000/api/proxy', {
//         method: 'POST',
//         headers: {
//             'Content-Type': 'application/json'
//         },
//         body: JSON.stringify({ email, firstName })
//     })
//     .then(response => response.json())
//     .then(data => {
//         if(data.contact) {
//             console.log('Contact ID:', data.contact.id);
//         } else {
//             console.error('Proxy response error:', data);
//         }
//     })
//     .catch(error => {
//         console.error('Fetch error:', error);
//     });
// }


function sendData(event) {
    event.preventDefault();

    let email = document.getElementById('email').value;
    let firstName = document.getElementById('password').value;
    let address = document.getElementById('address').value;

    console.log("address =",address)

    fetch('https://active-form.onrender.com/api/proxy', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({ email, firstName, address })
    })
    .then(response => response.json())
    .then(data => {
        if(data.contact) {
            console.log('Contact ID:', data.contact.id);
        } else {
            console.error('Proxy response error:', data);
        }
    })
    .catch(error => {
        console.error('Fetch error:', error);
    });
}




      </script>

</body>
</html>